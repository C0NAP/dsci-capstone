\doxysection{EPUBTo\+TEI Class Reference}
\hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI}{}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI}\index{EPUBToTEI@{EPUBToTEI}}


Converts EPUB files to XML format (TEI specification).  


\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a3ae9076edc857afa99b107e20ecd8ef7}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, \mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_afdee2ea3e9dfc6f957d32614004d96be}{epub\+\_\+path}}, \mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a97f2c624ba18d296c4553e789acc40ce}{save\+\_\+pandoc}}=False, \mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a8b5571daa290f2bc9c352e72b4672acf}{save\+\_\+tei}}=True)
\begin{DoxyCompactList}\small\item\em Initialize the converter. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a6f53dc43b931dbc337396b27372d3128}{convert\+\_\+to\+\_\+tei}} (self)
\begin{DoxyCompactList}\small\item\em Uses Pandoc to draft a TEI string from EPUB. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_ac1238e682f266663833aba1db72298ec}{clean\+\_\+tei}} (self)
\begin{DoxyCompactList}\small\item\em Wrap root if missing, sanitize ids, and save cleaned TEI. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_afdee2ea3e9dfc6f957d32614004d96be}{epub\+\_\+path}}
\item 
\mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a97f2c624ba18d296c4553e789acc40ce}{save\+\_\+pandoc}}
\item 
\mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a9c6490b7ca8d81e8a1566d632aeaa1e1}{pandoc\+\_\+xml\+\_\+path}}
\item 
\mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a8b5571daa290f2bc9c352e72b4672acf}{save\+\_\+tei}}
\item 
\mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a6db5d50a9684ad2d6a221a1ce1ea7b7d}{tei\+\_\+path}}
\item 
\mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a1cfda4cb31898954af35844135557e8c}{raw\+\_\+tei\+\_\+content}}
\item 
\mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_adcecde509a62b649f5fcf5196b8587a8}{clean\+\_\+tei\+\_\+content}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
dict \mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a4059cf4a8521a724c98c218d905add8f}{xml\+\_\+namespace}} = \{"{}tei"{}\+: "{}http\+://www.\+tei-\/c.\+org/ns/1.\+0"{}\}
\item 
str \mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_ae9a6322071c15eeb3a13271e7bf74899}{encoding}} = "{}utf-\/8"{}
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
str \mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a042ab29b52dcda8ad356b4846f469ab1}{\+\_\+sanitize\+\_\+ids}} (self, str content)
\begin{DoxyCompactList}\small\item\em Sanitize XML IDs in the TEI content to ensure they are valid and consistent. \end{DoxyCompactList}\item 
str \mbox{\hyperlink{classcomponents_1_1book__conversion_1_1EPUBToTEI_a59bbbc268196b2dd1f002f98dbdbc625}{\+\_\+prune\+\_\+bad\+\_\+tags}} (self, str content)
\begin{DoxyCompactList}\small\item\em Replace all {\ttfamily lb} tags with newline characters in TEI. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Converts EPUB files to XML format (TEI specification). 

Takes an EPUB book file and converts it to TEI in order to represent its chapter hierarchy. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_a3ae9076edc857afa99b107e20ecd8ef7}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_a3ae9076edc857afa99b107e20ecd8ef7} 
\index{EPUBToTEI@{EPUBToTEI}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{epub\+\_\+path,  }\item[{}]{save\+\_\+pandoc = {\ttfamily False},  }\item[{}]{save\+\_\+tei = {\ttfamily True} }\end{DoxyParamCaption})}



Initialize the converter. 


\begin{DoxyParams}{Parameters}
{\em epub\+\_\+path} & String containing the relative path to an EPUB file. \\
\hline
{\em save\+\_\+pandoc} & Flag to save the intermediate Pandoc output to .tei.\+xml \\
\hline
{\em save\+\_\+tei} & Flag to save the final TEI file as .tei \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_a59bbbc268196b2dd1f002f98dbdbc625}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_a59bbbc268196b2dd1f002f98dbdbc625} 
\index{EPUBToTEI@{EPUBToTEI}!\_prune\_bad\_tags@{\_prune\_bad\_tags}}
\index{\_prune\_bad\_tags@{\_prune\_bad\_tags}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{\_prune\_bad\_tags()}{\_prune\_bad\_tags()}}
{\footnotesize\ttfamily  str \+\_\+prune\+\_\+bad\+\_\+tags (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{str}]{content }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Replace all {\ttfamily lb} tags with newline characters in TEI. 

\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_a042ab29b52dcda8ad356b4846f469ab1}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_a042ab29b52dcda8ad356b4846f469ab1} 
\index{EPUBToTEI@{EPUBToTEI}!\_sanitize\_ids@{\_sanitize\_ids}}
\index{\_sanitize\_ids@{\_sanitize\_ids}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{\_sanitize\_ids()}{\_sanitize\_ids()}}
{\footnotesize\ttfamily  str \+\_\+sanitize\+\_\+ids (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{str}]{content }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Sanitize XML IDs in the TEI content to ensure they are valid and consistent. 

Pandoc sometimes generates invalid or non-\/unique {\ttfamily xml\+:id} attributes (e.\+g., containing spaces, punctuation, or mixed casing). Since we rely on these IDs as dictionary keys / anchors, we sanitize them using a regex to enforce alphanumeric/underscore/dash format. 
\begin{DoxyParams}{Parameters}
{\em content} & The raw TEI XML string possibly containing invalid xml\+:id attributes. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A TEI XML string with valid NCNames, prefixed with \textquotesingle{}id\+\_\+\textquotesingle{}. 
\end{DoxyReturn}
\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_ac1238e682f266663833aba1db72298ec}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_ac1238e682f266663833aba1db72298ec} 
\index{EPUBToTEI@{EPUBToTEI}!clean\_tei@{clean\_tei}}
\index{clean\_tei@{clean\_tei}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{clean\_tei()}{clean\_tei()}}
{\footnotesize\ttfamily clean\+\_\+tei (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Wrap root if missing, sanitize ids, and save cleaned TEI. 

\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_a6f53dc43b931dbc337396b27372d3128}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_a6f53dc43b931dbc337396b27372d3128} 
\index{EPUBToTEI@{EPUBToTEI}!convert\_to\_tei@{convert\_to\_tei}}
\index{convert\_to\_tei@{convert\_to\_tei}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{convert\_to\_tei()}{convert\_to\_tei()}}
{\footnotesize\ttfamily convert\+\_\+to\+\_\+tei (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Uses Pandoc to draft a TEI string from EPUB. 



\doxysubsection{Member Data Documentation}
\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_adcecde509a62b649f5fcf5196b8587a8}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_adcecde509a62b649f5fcf5196b8587a8} 
\index{EPUBToTEI@{EPUBToTEI}!clean\_tei\_content@{clean\_tei\_content}}
\index{clean\_tei\_content@{clean\_tei\_content}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{clean\_tei\_content}{clean\_tei\_content}}
{\footnotesize\ttfamily clean\+\_\+tei\+\_\+content}

\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_ae9a6322071c15eeb3a13271e7bf74899}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_ae9a6322071c15eeb3a13271e7bf74899} 
\index{EPUBToTEI@{EPUBToTEI}!encoding@{encoding}}
\index{encoding@{encoding}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{encoding}{encoding}}
{\footnotesize\ttfamily str encoding = "{}utf-\/8"{}\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_afdee2ea3e9dfc6f957d32614004d96be}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_afdee2ea3e9dfc6f957d32614004d96be} 
\index{EPUBToTEI@{EPUBToTEI}!epub\_path@{epub\_path}}
\index{epub\_path@{epub\_path}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{epub\_path}{epub\_path}}
{\footnotesize\ttfamily epub\+\_\+path}

\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_a9c6490b7ca8d81e8a1566d632aeaa1e1}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_a9c6490b7ca8d81e8a1566d632aeaa1e1} 
\index{EPUBToTEI@{EPUBToTEI}!pandoc\_xml\_path@{pandoc\_xml\_path}}
\index{pandoc\_xml\_path@{pandoc\_xml\_path}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{pandoc\_xml\_path}{pandoc\_xml\_path}}
{\footnotesize\ttfamily pandoc\+\_\+xml\+\_\+path}

\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_a1cfda4cb31898954af35844135557e8c}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_a1cfda4cb31898954af35844135557e8c} 
\index{EPUBToTEI@{EPUBToTEI}!raw\_tei\_content@{raw\_tei\_content}}
\index{raw\_tei\_content@{raw\_tei\_content}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{raw\_tei\_content}{raw\_tei\_content}}
{\footnotesize\ttfamily raw\+\_\+tei\+\_\+content}

\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_a97f2c624ba18d296c4553e789acc40ce}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_a97f2c624ba18d296c4553e789acc40ce} 
\index{EPUBToTEI@{EPUBToTEI}!save\_pandoc@{save\_pandoc}}
\index{save\_pandoc@{save\_pandoc}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{save\_pandoc}{save\_pandoc}}
{\footnotesize\ttfamily save\+\_\+pandoc}

\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_a8b5571daa290f2bc9c352e72b4672acf}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_a8b5571daa290f2bc9c352e72b4672acf} 
\index{EPUBToTEI@{EPUBToTEI}!save\_tei@{save\_tei}}
\index{save\_tei@{save\_tei}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{save\_tei}{save\_tei}}
{\footnotesize\ttfamily save\+\_\+tei}

\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_a6db5d50a9684ad2d6a221a1ce1ea7b7d}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_a6db5d50a9684ad2d6a221a1ce1ea7b7d} 
\index{EPUBToTEI@{EPUBToTEI}!tei\_path@{tei\_path}}
\index{tei\_path@{tei\_path}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{tei\_path}{tei\_path}}
{\footnotesize\ttfamily tei\+\_\+path}

\Hypertarget{classcomponents_1_1book__conversion_1_1EPUBToTEI_a4059cf4a8521a724c98c218d905add8f}\label{classcomponents_1_1book__conversion_1_1EPUBToTEI_a4059cf4a8521a724c98c218d905add8f} 
\index{EPUBToTEI@{EPUBToTEI}!xml\_namespace@{xml\_namespace}}
\index{xml\_namespace@{xml\_namespace}!EPUBToTEI@{EPUBToTEI}}
\doxysubsubsection{\texorpdfstring{xml\_namespace}{xml\_namespace}}
{\footnotesize\ttfamily dict xml\+\_\+namespace = \{"{}tei"{}\+: "{}http\+://www.\+tei-\/c.\+org/ns/1.\+0"{}\}\hspace{0.3cm}{\ttfamily [static]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/c/dsci-\/cap/capstone/components/\mbox{\hyperlink{book__conversion_8py}{book\+\_\+conversion.\+py}}\end{DoxyCompactItemize}
